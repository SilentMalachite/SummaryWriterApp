# ユーザーガイド

## 目次
1. [基本的な使い方](#基本的な使い方)
2. [各タブの機能](#各タブの機能)
3. [ブラウザからのアクセス](#ブラウザからのアクセス)
4. [よくある質問](#よくある質問)
5. [Tips & Tricks](#tips--tricks)

## 基本的な使い方

### 1. アプリケーションの起動

SummaryWriterAppを起動すると、以下の情報がコンソールに表示されます：

```
サーバーが起動しました: http://localhost:8080
WebSocket: ws://localhost:8080/textHub
```

これで、アプリケーションの準備が完了しました。

### 2. シンプルな使用例

**シナリオ**: 講演会で要約筆記を行う

1. **入力者（要約筆記者）**
   - 「入力」タブを開く
   - テキストフィールドに話者の内容を要約して入力
   - 入力内容は自動的に全クライアントに配信される

2. **閲覧者（聴覚障害者）**
   - 同じPC上: 「字幕表示」タブで確認
   - 別のデバイス: ブラウザで `http://<PCのIP>:8080` にアクセス

## 各タブの機能

### 入力タブ

テキストを入力するための画面です。

**機能:**
- リアルタイム入力フィールド
- 接続数の表示
- クリアボタン

**使い方:**
1. テキストフィールドをクリック
2. 内容を入力（最大5行まで表示）
3. 入力内容は500ms後に自動送信
4. 「クリア」ボタンで入力内容をリセット

**ヒント:**
- 改行は`Enter`キー
- 長文は適度に区切る
- 重要な単語は平仮名で補足

### 字幕表示タブ

入力されたテキストを大きく表示します。

**機能:**
- リアルタイム表示
- 自動スクロール
- カスタマイズ可能なフォントサイズ
- 高コントラストモード

**使い方:**
1. タブを選択するだけで自動的に表示
2. 設定タブでフォントサイズを調整
3. 高コントラストモードで視認性向上

### カメラ表示タブ

Webカメラ映像とテキストを合成表示します。

**機能:**
- Webカメラ映像の表示
- テキストオーバーレイ
- フレームレート調整

**使い方:**
1. タブを選択（初回はカメラの使用許可が必要）
2. カメラ映像にテキストが重なって表示される
3. Zoom等の配信ソフトで画面共有

**注意:**
- カメラが検出されない場合はエラーメッセージ表示
- 複数カメラがある場合、デフォルトカメラが使用される

### 設定タブ

アプリケーションの設定を変更します。

**設定項目:**

1. **フォントサイズ**
   - スライダーで10pt～32ptの範囲で調整
   - リアルタイムでプレビュー

2. **高コントラストモード**
   - オン: 白背景に黒文字
   - オフ: 通常モード

3. **サーバー情報**
   - HTTP URL
   - WebSocket URL
   - API URL

4. **履歴をクリア**
   - すべてのテキスト履歴を削除
   - 実行後は復元不可

## ブラウザからのアクセス

### モバイルデバイスでの表示

1. **IPアドレスの確認**
   - 設定タブで確認
   - または、PCでコマンド実行（`ipconfig` / `ifconfig`）

2. **スマートフォン/タブレットでアクセス**
   - Safari/Chromeを開く
   - `http://<PCのIP>:8080` にアクセス
   - 自動的に字幕が表示される

### 複数デバイスでの同時表示

- 制限なく複数デバイスから同時接続可能
- すべてのデバイスで同じ内容がリアルタイム表示
- 接続数は入力タブで確認可能

### ブラウザ表示の特徴

- **レスポンシブデザイン**: 画面サイズに自動適応
- **セッション管理**: 各ブラウザに固有のセッションID
- **接続状態表示**: 
  - ✓ 接続済み（緑）
  - ✗ 切断（赤）

## よくある質問

### Q1: テキストが表示されない

**確認事項:**
1. サーバーが起動しているか
2. 正しいIPアドレスを使用しているか
3. ファイアウォールでポート8080が開いているか
4. 同じネットワーク（Wi-Fi）に接続しているか

**解決方法:**
```bash
# Windows
netstat -an | findstr :8080

# macOS/Linux
lsof -i :8080
```

### Q2: カメラが認識されない

**確認事項:**
1. カメラが物理的に接続されているか
2. 他のアプリでカメラを使用していないか
3. OSの権限設定（macOS: システム設定 → プライバシー → カメラ）

**解決方法:**
- アプリを再起動
- カメラを接続し直す

### Q3: 入力遅延が発生する

**原因:**
- ネットワーク遅延
- 大量のテキスト履歴

**解決方法:**
- 設定タブで「履歴をクリア」
- 有線LAN接続を使用
- Wi-Fiルーターに近づく

### Q4: 複数人で同時入力したい

**方法:**
1. 複数のPCで同時にアプリを起動
2. それぞれの「入力」タブで入力
3. すべての入力が統合されて表示される

### Q5: 過去のテキストを確認したい

**方法:**
APIエンドポイントを使用：
```bash
curl http://localhost:8080/api/history
```
または、ブラウザで `http://localhost:8080/api/history` にアクセス

## Tips & Tricks

### Tip 1: ショートカット的な使い方

事前準備文章を活用：
1. よく使う文章を`.txt`ファイルに保存
2. 必要に応じてコピー＆ペースト

### Tip 2: プロジェクター表示

1. PCをプロジェクターに接続
2. 字幕表示タブをフルスクリーン表示
3. 高コントラストモードで視認性向上

### Tip 3: Zoomとの連携

1. カメラ表示タブを開く
2. Zoomで「画面共有」→「SummaryWriterApp」を選択
3. 参加者全員に字幕付き映像を配信

### Tip 4: モバイルでの最適化

ブラウザ表示時：
- 横向きで使用（文字が大きく表示）
- 画面の自動ロックを無効化
- 全画面表示モード推奨

### Tip 5: パフォーマンス最適化

- 定期的に履歴をクリア（1000件制限あり）
- 不要なタブは閉じる
- カメラ表示は必要時のみ使用

### Tip 6: VPN経由でのアクセス

遠隔地からアクセスする場合：
1. VPN接続（SoftEther等）を確立
2. VPN内のIPアドレスでアクセス
3. セキュリティに注意

### Tip 7: データのエクスポート

履歴をJSON形式で保存：
```bash
curl http://localhost:8080/api/history > history.json
```

## トラブルシューティング

### 接続エラー

```
✗ 切断されました
```

**対処法:**
1. サーバーが起動中か確認
2. ブラウザをリロード（F5）
3. アプリを再起動

### パフォーマンス低下

**症状:**
- 入力遅延
- フレームドロップ

**対処法:**
1. 履歴をクリア
2. 他のアプリを終了
3. PCを再起動

## サポート

さらにサポートが必要な場合：
- [GitHub Issues](https://github.com/SilentMalachite/SummaryWriterApp/issues)
- [Discussions](https://github.com/SilentMalachite/SummaryWriterApp/discussions)
